# CHANGELOG.md

## [7.0.2.1](https://github.com/openemr/openemr/milestone/13?closed=1) - 2024-05-28

### Added
  -  Change Module Manager ([#7247](https://github.com/openemr/openemr/issues/7247))
  -  Encounter and observation report generation in Patient List Creation ([#7014](https://github.com/openemr/openemr/issues/7014))
  -  Etherfax need tiff image support and image to PDF ([#7436](https://github.com/openemr/openemr/issues/7436))
  -  Hide cards in the patient dashboard ([#7191](https://github.com/openemr/openemr/issues/7191))
  -  Modernize Work School Note ([#6946](https://github.com/openemr/openemr/issues/6946))
  -  Password strength meter missing ([#7366](https://github.com/openemr/openemr/issues/7366))
  -  Patient Insurance Policy rest endpoint for updating a specific policy  ([#7143](https://github.com/openemr/openemr/issues/7143))
  -  Show group attendance in encounter summary ([#7127](https://github.com/openemr/openemr/issues/7127))
  -  Weno EZ Integration ([#6635](https://github.com/openemr/openemr/issues/6635))
  -  Weno improve design, and pharmacy import speed ([#7204](https://github.com/openemr/openemr/pull/7204))
  -  When google single sign on is enabled it still requires user to use password from openEMR to sign the encounter doesn't use single sign on. ([#7254](https://github.com/openemr/openemr/issues/7254))
  -  add Real World Testing Report for 2024 ([#7210](https://github.com/openemr/openemr/pull/7210))
  -  electronically post payment when billed modifier isn't returned in ERA ([#7293](https://github.com/openemr/openemr/issues/7293))
  -  improved pharmacy download, user facility selection improvement,  improved UX for errors and theme compatability ([#7208](https://github.com/openemr/openemr/pull/7208))
  -  make Demographics Insurance Edit Screen its own page ([#7108](https://github.com/openemr/openemr/issues/7108))
  -  show collection balance in billing widget ([#7454](https://github.com/openemr/openemr/pull/7454))
  -  support 2024 reporting cqm valueset import ([#7317](https://github.com/openemr/openemr/issues/7317))
  -  support electronic worker's comp claims ([#7206](https://github.com/openemr/openemr/issues/7206))
  -  total front receipts by payment method ([#7448](https://github.com/openemr/openemr/issues/7448))
  -  use default visit category in add edit event ([#7189](https://github.com/openemr/openemr/issues/7189))
  -  weno changes - restrict NCPDPD to 7 digits per spec ([#7384](https://github.com/openemr/openemr/pull/7384))


### Fixed
  - Backport etherfax #7429 #7447 ([#7452](https://github.com/openemr/openemr/pull/7452))
  - Gap cherry-picks ([#7451](https://github.com/openemr/openemr/pull/7451))
  - Patch1 more cherry-picks ([#7457](https://github.com/openemr/openemr/pull/7457))
  - Phantom date showing at the top of all reports. ([#7433](https://github.com/openemr/openemr/pull/7433))
  - Prevent Upload of ZIP bombs ([#7407](https://github.com/openemr/openemr/pull/7407))
  - Pull request #7442 backport Cleanup Background tasks ([#7455](https://github.com/openemr/openemr/pull/7455))
  -  837P service location details are not created when service facility and billing facility differ ([#7213](https://github.com/openemr/openemr/issues/7213))
  -  Add previous name doesn't save New/Search ([#7437](https://github.com/openemr/openemr/issues/7437))
  -  Authentication Error when opening a patient with Open in New Browser Tab checked. ([#7167](https://github.com/openemr/openemr/issues/7167))
  -  Billing Manager Date of Service selector not working ([#7069](https://github.com/openemr/openemr/issues/7069))
  -  CDR gui summary screen submit breaks when set no alert types ([#7178](https://github.com/openemr/openemr/issues/7178))
  -  CDR reminder_results_integrate() to work when same actions are used in different rules ([#7266](https://github.com/openemr/openemr/issues/7266))
  -  Cannot delete entry from immunization list ([#7345](https://github.com/openemr/openemr/issues/7345))
  -  Claimrev leaves background service on when module is uninstalled ([#7441](https://github.com/openemr/openemr/issues/7441))
  -  Clinical Rules - dates and filters ([#7157](https://github.com/openemr/openemr/issues/7157))
  -  Clinical Rules - interval boundaries used in evaluating target instances ([#7161](https://github.com/openemr/openemr/issues/7161))
  -  Clinical Rules - logic issues in filter and target evaluations; divide by zero bug ([#7153](https://github.com/openemr/openemr/issues/7153))
  -  Eye Form Style fixes ([#7051](https://github.com/openemr/openemr/pull/7051))
  -  File missing for Quest Lab Hub to function properly ([#7084](https://github.com/openemr/openemr/issues/7084))
  -  Fixes bugs in user edit screen, restyle Logs Viewer ([#7222](https://github.com/openemr/openemr/pull/7222))
  -  In Visit History, print, or save as PDF, a multi-page list of encounters doesn't print or save all results. ([#7270](https://github.com/openemr/openemr/issues/7270))
  -  Insurance Edit Screen overwrites insurance fax value ([#7164](https://github.com/openemr/openemr/issues/7164))
  -  Insurance Edit screen add provider functionality does not update provider list ([#7109](https://github.com/openemr/openemr/issues/7109))
  -  Insurance rest endpoints documentation incorrect for patient pid  ([#7145](https://github.com/openemr/openemr/issues/7145))
  -  Layout Based Forms (LBF) printable fatal error ([#7148](https://github.com/openemr/openemr/issues/7148))
  -  Layout Based Forms (LBF) query error breaks on newer database versions ([#7239](https://github.com/openemr/openemr/issues/7239))
  -  Messages SMS Zone Combobox width ([#6070](https://github.com/openemr/openemr/issues/6070))
  -  Missing Pdf and Track Anything style sheets ([#7258](https://github.com/openemr/openemr/issues/7258))
  -  OpenEMR logs sensitive field - payment reference number ([#7340](https://github.com/openemr/openemr/issues/7340))
  -  OpenEMR\Service\BaseService->getSelectJoinClauses() join_clause property is improperly escaped ([#7188](https://github.com/openemr/openemr/issues/7188))
  -  Opening portal templates from documents broken ([#7173](https://github.com/openemr/openemr/issues/7173))
  -  Patient Insurance List All Endpoint fails ([#7107](https://github.com/openemr/openemr/issues/7107))
  -  Practice Settings Insurance Company list extremely slow to load with hundreds of insurance companies ([#7224](https://github.com/openemr/openemr/issues/7224))
  -  SNOMED lookup is slow in some places ([#7276](https://github.com/openemr/openemr/issues/7276))
  -  Unable to import CCDA XML files in Docker 7.0.3 ([#7411](https://github.com/openemr/openemr/issues/7411))
  -  Unable to share templates in nations note ([#7129](https://github.com/openemr/openemr/issues/7129))
  -  User able to select a Date of Birth that occurs in the future on new patient screen ([#7378](https://github.com/openemr/openemr/issues/7378))
  -  Weno calculate age bug and labels incorrectly used for weno user ([#7453](https://github.com/openemr/openemr/pull/7453))
  -  [CKEDITOR] Error code: invalid-lts-license-key. ([#7097](https://github.com/openemr/openemr/issues/7097))
  -  appointments report total incorrect ([#7289](https://github.com/openemr/openemr/issues/7289))
  -  balance formatting in record front payment ([#7260](https://github.com/openemr/openemr/issues/7260))
  -  billing manager To Encounter button doesn't load proper person for insurance edit  ([#7419](https://github.com/openemr/openemr/issues/7419))
  -  billing manager broken validation of claim with replaced patient insurance ([#7263](https://github.com/openemr/openemr/issues/7263))
  -  billing_note duplication each time invoice form is saved ([#7287](https://github.com/openemr/openemr/issues/7287))
  -  document display fail on empty array key ([#7390](https://github.com/openemr/openemr/issues/7390))
  -  encounter date of service time format ([#7202](https://github.com/openemr/openemr/issues/7202))
  -  era posting denial write off ([#7186](https://github.com/openemr/openemr/issues/7186))
  -  escaping custom templates used with ckeditor ([#7151](https://github.com/openemr/openemr/issues/7151))
  -  etherFax fails render on large download log. ([#7430](https://github.com/openemr/openemr/issues/7430))
  -  eye exam chart fails since upgrade to latest chart.js package ([#7155](https://github.com/openemr/openemr/issues/7155))
  -  fatal implode error registering app when contacts is empty ([#7282](https://github.com/openemr/openemr/issues/7282))
  -  fix bug ([#7231](https://github.com/openemr/openemr/pull/7231))
  -  fix bug ([#7229](https://github.com/openemr/openemr/pull/7229))
  -  fix jspdf versions from PR#7429 ([#7447](https://github.com/openemr/openemr/pull/7447))
  -  need to handle multiple modifiers in fee sheet ([#7165](https://github.com/openemr/openemr/issues/7165))
  -  not_due not working in the Clinical Reminders widget ([#7200](https://github.com/openemr/openemr/issues/7200))
  -  pdf download patient report ([#7053](https://github.com/openemr/openemr/issues/7053))
  -  php fatal math error when saving empty statement count editing invoice ([#7280](https://github.com/openemr/openemr/issues/7280))
  -  rel_702 form_encounter missing last_update field ([#7183](https://github.com/openemr/openemr/issues/7183))
  -  saving `# of tablets` in a prescription to `9999999999` sets it to `2147483647` ([#7314](https://github.com/openemr/openemr/issues/7314))
  -  saving existing insurance with no country in address ([#7331](https://github.com/openemr/openemr/issues/7331))
  -  visit history count for display of ALL results incorrect, if shorter pages displayed previously ([#7385](https://github.com/openemr/openemr/issues/7385))


### Changed
  -  to not allow user to pick future date for DOB ([#7379](https://github.com/openemr/openemr/pull/7379))
  -  replace htmlspecialchars with escaping functions for recent commit ([#7146](https://github.com/openemr/openemr/pull/7146))
  -  Nation Notes components display breaks when building a list of components. ([#7176](https://github.com/openemr/openemr/issues/7176))
  -  batch payments distinct tab ([#7398](https://github.com/openemr/openemr/pull/7398))
  -  billing manager To Encounter button to load proper person ([#7420](https://github.com/openemr/openemr/pull/7420))
  -  bug ([#7435](https://github.com/openemr/openemr/pull/7435))
  -  bug ([#7434](https://github.com/openemr/openemr/pull/7434))
  -  bug fix ([#7230](https://github.com/openemr/openemr/pull/7230))
  -  bug fix for rel-702 ([#7193](https://github.com/openemr/openemr/pull/7193))
  -  cdr fix to correctly show actions that are due, due soon, past due in expanded listings ([#7211](https://github.com/openemr/openemr/pull/7211))


### OpenEMR Developer Changes

### Added
  -  Add module perform after actions functionality to Module Manager ([#7147](https://github.com/openemr/openemr/issues/7147))
  -  Add to SMART style twig files the OpenEMR logo and populate the modal backdrop color ([#7134](https://github.com/openemr/openemr/issues/7134))
  -  Add zipcode plus_four to address service / apis ([#7216](https://github.com/openemr/openemr/issues/7216))
  -  Allow module writers to add commands to the bin/console command runner ([#7237](https://github.com/openemr/openemr/issues/7237))
  -  Enhance BaseService->getSelectFields to support table and column aliases ([#7370](https://github.com/openemr/openemr/issues/7370))
  -  Extract billing code selector logic from options.inc.php into its own class ([#7323](https://github.com/openemr/openemr/issues/7323))
  -  Extract local providers list selector logic from options.inc.php into its own class ([#7368](https://github.com/openemr/openemr/issues/7368))
  -  FHIR Patient missing deceasedBoolean ([#7063](https://github.com/openemr/openemr/issues/7063))
  -  FHIR ValueSet is missing ([#7062](https://github.com/openemr/openemr/issues/7062))
  -  Infrastructure to send documents to cloud storage buckets ([#7232](https://github.com/openemr/openemr/issues/7232))
  -  Insurance Company Service allow setting id and make phone settings optional ([#7217](https://github.com/openemr/openemr/issues/7217))
  -  Time format in logs should display seconds instead of just hours and minutes ([#7335](https://github.com/openemr/openemr/issues/7335))
  -  Title is not returned when getting list of Appointments via API. ([#7301](https://github.com/openemr/openemr/issues/7301))
  -  Twigify Portal Quick Start landing page. Prep for plugin support. ([#7116](https://github.com/openemr/openemr/issues/7116))
  -  User settings not set if not in globals. ([#7194](https://github.com/openemr/openemr/issues/7194))
  -  minor CryptoGen class updates ([#7365](https://github.com/openemr/openemr/pull/7365))


### Fixed
  -  Adding calendar event (appointment) via API causes endTime to be set to 0:00:00 ([#7300](https://github.com/openemr/openemr/issues/7300))
  -  CCDA import creates extra entries in list_options for drug_units list_id ([#7319](https://github.com/openemr/openemr/issues/7319))
  -  Duplicated "extends" key in stylelint configuration file ([#6700](https://github.com/openemr/openemr/issues/6700))
  -  FHIR Appointment fields wrong or missing ([#7061](https://github.com/openemr/openemr/issues/7061))
  -  FHIR Encounter lastUpdated field is wrong and missing as search param ([#7064](https://github.com/openemr/openemr/issues/7064))
  -  InstallerController needs to pass current status to ModuleManagerAfterActionListener action methods ([#7214](https://github.com/openemr/openemr/issues/7214))
  -  Insurance Company Service does not load records that have no address entry ([#7226](https://github.com/openemr/openemr/issues/7226))
  -  PatientValidator email address should not fail to validate with empty string "" for email ([#7219](https://github.com/openemr/openemr/issues/7219))
  -  SMART on FHIR style url is throwing 500 error. ([#7133](https://github.com/openemr/openemr/issues/7133))
  -  SectionEvent->addCard append places second function call in first index position ([#7171](https://github.com/openemr/openemr/issues/7171))
  -  Trusted Email is missing from FHIR Patient ([#7113](https://github.com/openemr/openemr/issues/7113))
  -  ccda import fails on empty postParseEvent ([#7347](https://github.com/openemr/openemr/issues/7347))
  -  missing use aclmain statement in prior commit ([#7427](https://github.com/openemr/openemr/issues/7427))


### Changed
  -  bump phpseclib/phpseclib from 3.0.34 to 3.0.36 ([#7259](https://github.com/openemr/openemr/pull/7259))
  -  ci add mariadb 11.3, change mysql 8.2 to mysql 8.3 ([#7273](https://github.com/openemr/openemr/pull/7273))
  -  commit 2 that updates github actions for docker builds to prevent deprecations ([#7272](https://github.com/openemr/openemr/pull/7272))
  -  update github actions for docker builds to prevent deprecations ([#7271](https://github.com/openemr/openemr/pull/7271))
  -  possible fix of logic in jquery-datetimepicker-2-5-4-translated.js ([#7223](https://github.com/openemr/openemr/pull/7223))

